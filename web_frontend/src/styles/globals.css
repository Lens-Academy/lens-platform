@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --container-content: 640px;
  --container-content-padded: calc(var(--container-content) + 128px);
}

:root {
  --background: #fafaf9; /* stone-50 */
  --foreground: #0f172a; /* slate-900 */

  /* Safe area insets for notched devices */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
}

html {
  touch-action: manipulation; /* Disable double-tap zoom for faster taps */
  -webkit-text-size-adjust: 100%; /* Prevent font scaling in landscape */
}

body {
  background: var(--background);
  color: var(--foreground);
  font-size: 18px;
  line-height: 1.6;
  max-width: 100%; /* Prevent horizontal overflow */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@layer base {
  /* Mobile-first typography scale */
  h1 { @apply text-[1.75rem] leading-tight; }     /* 28px mobile */
  h2 { @apply text-[1.5rem] leading-tight; }      /* 24px mobile */
  h3 { @apply text-[1.25rem] leading-snug; }      /* 20px mobile */
  h4 { @apply text-[1.125rem] leading-snug; }     /* 18px mobile */

  /* Desktop typography scale (640px+) */
  @media (min-width: 640px) {
    h1 { @apply text-[2.5rem]; }    /* 40px - bigger jump */
    h2 { @apply text-[2rem]; }      /* 32px */
    h3 { @apply text-[1.5rem]; }    /* 24px */
    h4 { @apply text-[1.25rem]; }   /* 20px */
  }

  button:not(:disabled),
  [role="button"]:not([aria-disabled="true"]),
  a[href],
  input[type="button"]:not(:disabled),
  input[type="submit"]:not(:disabled),
  input[type="reset"]:not(:disabled),
  select:not(:disabled),
  summary {
    cursor: pointer;
  }
}

/* Animations for unified lesson components */
@keyframes mic-pulse {
  0%,
  100% {
    stroke: #4b5563;
  }
  50% {
    stroke: #000000;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* ToC item styles - controlled via direct DOM manipulation for performance */
.toc-current {
  color: #111827; /* gray-900 */
  font-weight: 600;
}

.toc-passed {
  color: #374151; /* gray-700 */
}

.toc-future {
  color: #9ca3af; /* gray-400 */
}
